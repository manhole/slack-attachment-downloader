import groovy.json.JsonSlurper

plugins {
    id 'com.github.johnrengelman.shadow' version '5.0.0'
    id 'groovy'
    id 'application'
}

mainClassName = 'tool.slack.AppMain'

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.4.15'

    testCompile 'org.spockframework:spock-core:1.0-groovy-2.4'

    compile 'com.fasterxml.jackson.core:jackson-databind:2.9.8'
    compile 'org.slf4j:slf4j-api:1.7.26'
    compile 'ch.qos.logback:logback-core:1.2.3'
    runtimeOnly 'ch.qos.logback:logback-classic:1.2.3'
}

repositories {
    jcenter()
}

// https://qiita.com/cypher256/items/f3db6bba86692c3c7733
wrapper {
    distributionType = Wrapper.DistributionType.ALL
    doFirst {
        def versionService = new URL('https://services.gradle.org/versions/current')
        gradleVersion = new JsonSlurper().parseText(versionService.text).version
        println "gradleVersion: ${gradleVersion}"
    }
}
